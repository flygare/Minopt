language: scala
scala: 2.11.8
jdk: oraclejdk8
env:
  - TEST_DIR=REST
  - TEST_DIR=DatabaseLogic
script: cd $TEST_DIR && sbt assembly && sbt clean coverage test coverageReport
after_success: bash <(curl -s https://codecov.io/bash)
services: cassandra
before_install:
  - sudo rm -rf /var/lib/cassandra/*
  - if [ ! -d "apache-cassandra-3.0.12" ]; then wget http://www.us.apache.org/dist/cassandra/3.0.12/apache-cassandra-3.0.12-bin.tar.gz && tar -xvzf apache-cassandra-3.0.12-bin.tar.gz; fi
  - sudo sh ./apache-cassandra-3.0.12/bin/cassandra -R
  - sleep 20
